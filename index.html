<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Ball Drop Game : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Ball Drop Game</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tigoe/BallDropGame">View on GitHub</a>

          <h1 id="project_title">Ball Drop Game</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/tigoe/BallDropGame/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/tigoe/BallDropGame/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="ball-drop-game" class="anchor" href="#ball-drop-game" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ball Drop Game</h1>

<h3>
<a id="a-game-to-demonstrate-tcp-sockets" class="anchor" href="#a-game-to-demonstrate-tcp-sockets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A game to demonstrate TCP sockets</h3>

<p>This is a multiplayer game in which players collaborate to keep a ball from hitting the ground. Each player has a paddle, and can bound the ball off her paddle. When the ball bounces off your paddle, you get a point. Only the first bounce counts, though; subsequent bounces don't get you points. But if the ball bounces off another player's paddle then back to yours, you score again. You can keep scoring forever by bouncing the ball back and forth.</p>

<p>Here's a video of the game in action:</p>

<iframe src="https://player.vimeo.com/video/156162582" width="500" height="387" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p></p>

<p>The game is a networked application. Players log in by making a TCP socket connection to the IP address of the computer on which the game is running. For example, if the game is running on a computer with the IP address 192.168.0.2, then you'd make a connection to 192.168.0.2 port 8080, and you'd be connected.</p>

<p>The simplest connection you can make to the game is via a command line interface, using telnet, like so:</p>

<pre><code>$ telnet 192.168.0.2 8080
</code></pre>

<p>The game itself, BallDropServer, is written in <a href="http://www.processing.org">Processing</a>, so you'll need to download the <a href="https://processing.org/download/">Processing IDE</a> in order to run it.</p>

<h2>
<a id="clients" class="anchor" href="#clients" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Clients</h2>

<p>The game clients can be written in any programming environment, and for any hardware you wish, as long as your environment can connect to a network and make a TCP socket connection. I've written clients for a few platforms below:</p>

<ul>
<li>Processing (<a href="https://github.com/tigoe/BallDropGame/tree/master/BallDropClient">example</a>)</li>
<li>
<a href="https://www.arduino.cc/en/Main/ArduinoBoardUno">Arduino Uno</a> using <a href="https://www.arduino.cc/en/Main/ArduinoWiFiShield101">WiFi101 shield (<a href="https://github.com/tigoe/BallDropGame/tree/master/BallDropWifi101JoystickClient">example</a>)</a>
</li>
<li>
Arduino MKR1000 using theWiFi101 library. (<a href="https://github.com/tigoe/BallDropGame/tree/master/BallDropMKR1000JoystickClient">example</a>) The WiFi101 shield and the MKR1000 use the same WiFi module, so the code for both is compatible. </a>
</li>
<li>A simple serial-to-telnet example using the WiFi101 library to test the communication
(<a href="https://github.com/tigoe/BallDropGame/tree/master/WiFi101TelnetClient">example</a>)
</li>
<li>
<a href="https://www.arduino.cc/en/Main/ArduinoBoardUno">Arduino Uno</a> using <a href="https://www.arduino.cc/en/Main/ArduinoEthernetShield">Ethernet shield</a> (<a href="https://github.com/tigoe/BallDropGame/tree/master/BallDropEthernetJoystickClient">example</a>)
</li>
<li>
<a href="https://www.arduino.cc/en/Main/ArduinoBoardYun">Arduino YÃºn</a> using the <a href="https://www.arduino.cc/en/Reference/YunBridgeLibrary">Bridge library</a> (<a href="https://github.com/tigoe/BallDropGame/tree/master/BridgeJoystickClient">example</a>)
</li>
<li>ESP2866/ATTiny84, programmed with Arduino (<a href="https://github.com/tigoe/BallDropGame/tree/master/ESP-to-ATTiny-TelnetClient">example</a>)</li>
</ul>

<h2>
<a id="communication-protocol" class="anchor" href="#communication-protocol" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Communication Protocol</h2>

<p>When a client connects to the server, the server will send back a greeting and the instructions for controlling a paddle, as follows:</p>

<pre><code>hi
l = left, r = right, u = up, d = down
x = exit
1 point for each time the ball hits a new paddle
(minimum 2 players)
</code></pre>

<p>The client can then send the following commands:</p>

<ul>
<li>l - move paddle left</li>
<li>r - move right</li>
<li>u - move up</li>
<li>d - move down</li>
<li>i - toggle paddle label between name or IP address</li>
<li>n=XXXXX - set name (n= and n are the terminators. Everything between is the name</li>
<li>x - exit</li>
</ul>

<h2>
<a id="game-play" class="anchor" href="#game-play" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Game Play</h2>

<p>The game starts when the first new player logs in. Balls will drop from the top of the screen, and remain in play until they reach the bottom of the screen. To score the most points, bounce the ball off as many paddles as you can.</p>

<p>The goal is to get the highest collective score.</p>

<p>The game ends when five balls have dropped. When the game is over, the group's scores will be displayed.</p>

<p>The game in its current version does not send the player any information about the ball or the state of the other players. In order to play the game, you have to be physically present to view the screen of the computer on which the game is running.</p>

<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started with New Boards/New Libraries</h2>

<p>All of the microcontroller examples for this game as of Feb 2016 can be programmed using the Arduino IDE. If you're using a third-party board like the ESP8266 modules, you'll need to install the board using the Boards Manager in the IDE. You'll probably also need to install a library using the Library Manager as well. This section explains how to do that, for IDE version 1.6.7</p>. To start with, <a href="https://www.arduino.cc/en/Main/Software">download the Arduino IDE version 1.6.7</a>.

<h3>The Boards Manager</h3>

<p>To install new board definitions, for example the ESP8266, click on the Tools menu, and choose Board... --> Boards Manager. Use the search bar to search for your board. If it's there, install it, then close the Boards Manager, and you should see your board show up in the Boards menu when you click on it next.</p>

<p>If your board is not listed in the boards manager, you'll need to add the repository for it to the Preferences. Click on the Arduino menu, choose Preferences, and look for the field caled Additional Boards Manager URLs. Click the button to the right of it and add your board's repository URL to the list. Here are a couple of URLs you might want:</p>

<ul>
  <li>ESP8266 boards: http://arduino.esp8266.com/stable/package_esp8266com_index.json</li>
  <li>Adafruit boards (no examples here yet): https://adafruit.github.io/arduino-board-index/package_adafruit_index.json</li>
</ul>

<p>Once you've added your URL, click OK to exit the Preferences menu and restart the IDE. Your board should show up in the Boards menu now.</p>

<h3>The Library Manager</h3>

<p>The Arduino WiFi101 shield and the MKR1000 both use the same WiFi module, so you can use the same library, WiFI101, to program both of them. The ESP8266 has its own WiFi library, but the API is similar. You can find installed libraries under the Sketch menu, Include Libraries option. YOu can find examples for them in the File Menu, Examples option.</p>

<p>To install new libraries, for example the WiFi101 library or the ESP8266 libraries, click on the Sketch menu, and choose Include Library... --> Manage Libraries. Use the search bar to search for your library. If it's there, install it, then close the Library Manager, and you should see your Library show up in the Sketch --> Include Library menu and the File --> Examples menu when you click on either of them next.</p>

<p>If your library is not listed in the library manager, you can add it as a folder or .zip file using the Sketch --> Include library option as well. Just click Add .ZIP Library and follow the directions from there.</p>

Once you've got your board installed and the libraries it needs, you're ready to use the examples in this repository.





      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Ball Drop Game maintained by <a href="https://github.com/tigoe">tigoe</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>



  </body>
</html>
